<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anime Birthday Wish — Interactive Card</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{--accent:#FF6B6B;--accent-2:#7C5CFF}
    html,body,#app{height:100%}
    body{font-family: 'Poppins', 'Noto Sans JP', sans-serif;background:linear-gradient(180deg,#0f172a 0%, #1e293b 50%, #6b21a8 100%);}

    /* stars */
    .star{position:absolute;background:linear-gradient(90deg,#fff7 0,#fff9 50%,#fff7 100%);border-radius:50%;opacity:0.9;filter:drop-shadow(0 0 8px #fff6)}

    /* falling sakura */
    .petal{position:absolute;top:-10%;pointer-events:none;opacity:0.95}

    /* card */
    .card{backdrop-filter: blur(6px);background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.06)}

    /* anime face little styles */
    .eye {transform-origin:center;}
    .blink{animation:blink 5s infinite}
    @keyframes blink{0%,4%,100%{transform:scaleY(1)}2%{transform:scaleY(0.05)}}

    /* typewriter */
    .wish-text{font-family: 'Poppins';letter-spacing:0.6px}

    /* confetti canvas sits above everything */
    #confetti-canvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:60}

    /* overlay message */
    #overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;background:linear-gradient(135deg, rgba(0,0,0,0.9), rgba(30,41,59,0.95))}
    .overlay-inner{max-width:1200px;width:95%;max-height:90vh;overflow-y:auto;}

    /* final frame overlay */
    #finalOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:60;background:linear-gradient(135deg, rgba(15,23,42,0.95), rgba(30,41,59,0.9))}
    .final-inner{max-width:1000px;width:95%;max-height:95vh;overflow-y:auto;}

    /* photo frame styles */
    .photo-frame{
      backdrop-filter: blur(10px);
      background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      border: 2px solid rgba(255,255,255,0.1);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .photo-frame:hover{
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 25px 50px rgba(124,92,255,0.3);
    }

    /* memory text animation */
    .memory-text{
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease-out forwards;
    }
    @keyframes fadeInUp{
      to{opacity: 1; transform: translateY(0)}
    }

    /* polaroid style */
    .polaroid{
      background: white;
      padding: 1rem 1rem 3rem 1rem;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
      transform: rotate(-2deg);
      transition: transform 0.3s ease;
    }
    .polaroid:nth-child(2){transform: rotate(1deg)}
    .polaroid:nth-child(3){transform: rotate(-1.5deg)}
    .polaroid:hover{transform: rotate(0deg) scale(1.05)}

    /* floating hearts */
    .floating-heart{
      position: absolute;
      animation: floatHeart 3s ease-in-out infinite;
      pointer-events: none;
    }
    @keyframes floatHeart{
      0%, 100% {transform: translateY(0px) rotate(0deg)}
      50% {transform: translateY(-10px) rotate(5deg)}
    }

    /* anime character cards */
    .anime-card{backdrop-filter:blur(8px);background:linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));border:1px solid rgba(255,255,255,0.1);transition:transform 0.3s ease, box-shadow 0.3s ease}
    .anime-card:hover{transform:translateY(-5px);box-shadow:0 20px 40px rgba(0,0,0,0.3)}

    /* character animations */
    .char-enter{animation:charEnter 0.8s ease-out forwards}
    @keyframes charEnter{0%{opacity:0;transform:translateY(30px) scale(0.9)}100%{opacity:1;transform:translateY(0) scale(1)}}

    /* speech bubble */
    .speech-bubble{position:relative;background:linear-gradient(135deg, #fff, #f8fafc);border-radius:20px;padding:1rem;margin-top:1rem;box-shadow:0 4px 15px rgba(0,0,0,0.1)}
    .speech-bubble::before{content:'';position:absolute;top:-8px;left:30px;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #fff}

    /* responsive tweaks */
    @media (max-width:768px){
      .card{padding:1.25rem}
      .anime-svg{height:180px}
      .overlay-inner{width:98%}
    }

    .hidden{display:none !important}
  </style>
</head>
<body>
  <canvas id="confetti-canvas"></canvas>

  <div id="app" class="min-h-screen flex items-center justify-center p-6 relative overflow-hidden">

    <!-- decorative stars & petals (generated by JS) -->
    <div id="decor" class="pointer-events-none absolute inset-0"></div>

    <main class="card rounded-3xl p-8 lg:p-12 max-w-4xl w-full shadow-2xl relative z-10 grid lg:grid-cols-2 gap-6 items-center">

      <!-- Left: anime character -->
      <div class="flex flex-col items-center text-center lg:text-left">
        <!-- cute anime SVG (inline so it's editable) -->
        <div class="anime-svg mb-6 w-full max-w-xs">
          <svg viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
            <!-- head -->
            <defs>
              <linearGradient id="hairGrad" x1="0" x2="1">
                <stop offset="0" stop-color="#7C5CFF" />
                <stop offset="1" stop-color="#FF6B6B" />
              </linearGradient>
            </defs>
            <g transform="translate(180,170)">
              <ellipse cx="0" cy="0" rx="110" ry="115" fill="#FFEBD6" />

              <!-- hair -->
              <path d="M-120,-20 C-140,-90 -40,-170 0,-160 C40,-170 140,-90 120,-20 C90,-40 40,-60 0,-60 C-40,-60 -90,-40 -120,-20Z" fill="url(#hairGrad)" opacity="0.95"/>

              <!-- fringe -->
              <path d="M-60,-80 C-40,-40 0,-60 30,-80 C10,-70 -10,-40 -60,-80Z" fill="#4b2f7b" opacity="0.7"/>

              <!-- eyes -->
              <g transform="translate(-40,10)">
                <g class="eye blink">
                  <ellipse cx="0" cy="0" rx="24" ry="18" fill="#fff" />
                  <circle class="pupil" cx="-3" cy="0" r="8" fill="#2b2b2b" />
                </g>
              </g>

              <g transform="translate(40,10)">
                <g class="eye blink">
                  <ellipse cx="0" cy="0" rx="24" ry="18" fill="#fff" />
                  <circle class="pupil" cx="3" cy="0" r="8" fill="#2b2b2b" />
                </g>
              </g>

              <!-- mouth + blush -->
              <path d="M-10,40 Q0,52 10,40" stroke="#6b2f2f" stroke-width="3" fill="none" stroke-linecap="round"/>
              <circle cx="-50" cy="28" r="8" fill="#FFB4B4" opacity="0.9"/>
              <circle cx="50" cy="28" r="8" fill="#FFB4B4" opacity="0.9"/>

              <!-- star spark near head -->
              <g transform="translate(110,-80) rotate(10)">
                <polygon points="0,-12 3,-4 12,-4 5,2 8,10 0,6 -8,10 -5,2 -12,-4 -3,-4" fill="#fff" opacity="0.95"/>
              </g>
            </g>
          </svg>
        </div>
      </div>

      <!-- Right: inputs and preview -->
      <div class="space-y-4">
        <label class="block text-sm text-white/80">Birthday boyyy</label>
        <input id="name" class="w-full p-3 rounded-lg bg-white/10 border border-white/8 text-white placeholder:text-white/60" placeholder="e.g. Haru" value="Jagan" />

        <label class="block text-sm text-white/80">Short message</label>
        <input id="message" class="w-full p-3 rounded-lg bg-white/10 border border-white/8 text-white placeholder:text-white/60" placeholder="Add a short message" value="Wishing you the happiest birthday filled with laughter &  anime pakradhu eppoda kammi pannuve......" />

        <div class="flex gap-3">
          <button id="sendBtn" class="flex-1 py-3 px-4 rounded-lg bg-gradient-to-r from-[#7C5CFF] to-[#FF6B6B] text-white font-semibold shadow-lg hover:scale-105 transform transition">ingae click pannu</button>
          <button id="previewBtn" class="py-3 px-4 rounded-lg border border-white/10 text-white/90 hover:bg-white/5"> Dei edhu last le click pannu</button>
        </div>

        <div class="mt-3 p-4 rounded-lg bg-white/6 border border-white/5">
          <div class="wish-text text-white text-lg font-semibold" id="previewArea">Happy Birthday, Friend!</div>
          <div class="text-sm text-white/70 mt-2" id="previewSub">Wishing you the happiest birthday filled with laughter & anime marathons!</div>
        </div>
      </div>
    </main>

    <!-- BIRTHDAY OVERLAY WITH ANIME CHARACTERS -->
    <div id="overlay" class="hidden">
      <div class="overlay-inner">
        <div class="text-center mb-8">
          <h1 id="bigTitle" class="text-4xl lg:text-6xl font-bold text-white mb-4 bg-gradient-to-r from-[#FF6B6B] to-[#7C5CFF] bg-clip-text text-transparent">Happy Birthday, Jagan!</h1>
          <p id="bigMessage" class="text-xl text-white/90 max-w-2xl mx-auto"></p>
        </div>

        <!-- ANIME CHARACTERS GRID -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          
          <!-- Character 1: Naruto Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 0.2s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <circle cx="0" cy="0" r="80" fill="#FFDAB9"/>
                    <!-- Hair (spiky blonde) -->
                    <path d="M-70,-30 C-90,-80 -60,-90 -40,-85 C-20,-95 0,-90 20,-85 C40,-95 60,-90 90,-80 C70,-30 40,-40 20,-45 C0,-50 -20,-45 -40,-40 C-60,-35 -70,-30" fill="#FFD700"/>
                    <!-- Eyes -->
                    <ellipse cx="-25" cy="-10" rx="12" ry="8" fill="white"/>
                    <ellipse cx="25" cy="-10" rx="12" ry="8" fill="white"/>
                    <circle cx="-25" cy="-10" r="6" fill="#0066CC"/>
                    <circle cx="25" cy="-10" r="6" fill="#0066CC"/>
                    <!-- Whiskers -->
                    <line x1="-50" y1="-5" x2="-35" y2="-8" stroke="#333" stroke-width="2"/>
                    <line x1="-50" y1="5" x2="-35" y2="8" stroke="#333" stroke-width="2"/>
                    <line x1="35" y1="-8" x2="50" y2="-5" stroke="#333" stroke-width="2"/>
                    <line x1="35" y1="8" x2="50" y2="5" stroke="#333" stroke-width="2"/>
                    <!-- Smile -->
                    <path d="M-15,25 Q0,35 15,25" stroke="#333" stroke-width="3" fill="none"/>
                    <!-- Headband -->
                    <rect x="-70" y="-50" width="140" height="15" fill="#000" rx="7"/>
                    <circle cx="0" cy="-42" r="8" fill="#C0392B"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#FF6B6B] mb-2">Ninja Spirit</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"Dattebayo! Another year stronger! May your birthday be as epic as a Rasengan! 🌪️"</p>
              </div>
            </div>
          </div>

          <!-- Character 2: Sailor Moon Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 0.4s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <ellipse cx="0" cy="0" rx="70" ry="75" fill="#FFEBD6"/>
                    <!-- Hair (twin tails) -->
                    <path d="M-60,-40 C-80,-70 -50,-80 -30,-75 C-10,-80 10,-75 30,-75 C50,-80 80,-70 60,-40" fill="#FFE135"/>
                    <ellipse cx="-50" cy="-20" rx="25" ry="40" fill="#FFE135"/>
                    <ellipse cx="50" cy="-20" rx="25" ry="40" fill="#FFE135"/>
                    <!-- Eyes (large anime style) -->
                    <ellipse cx="-20" cy="-5" rx="18" ry="22" fill="white"/>
                    <ellipse cx="20" cy="-5" rx="18" ry="22" fill="white"/>
                    <ellipse cx="-20" cy="-5" rx="12" ry="18" fill="#4169E1"/>
                    <ellipse cx="20" cy="-5" rx="12" ry="18" fill="#4169E1"/>
                    <!-- Tiara -->
                    <ellipse cx="0" cy="-55" rx="40" ry="8" fill="#FFD700"/>
                    <circle cx="0" cy="-55" r="6" fill="#FF1493"/>
                    <!-- Smile -->
                    <path d="M-12,25 Q0,35 12,25" stroke="#FF69B4" stroke-width="3" fill="none"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#7C5CFF] mb-2">Magical Guardian</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"In the name of the moon, I wish you the most magical birthday ever! ✨🌙"</p>
              </div>
            </div>
          </div>

          <!-- Character 3: Dragon Ball Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 0.6s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <circle cx="0" cy="0" r="75" fill="#FFDAB9"/>
                    <!-- Hair (spiky black) -->
                    <path d="M-60,-20 C-80,-60 -50,-90 -20,-85 C0,-95 20,-85 50,-90 C80,-60 60,-20 40,-30 C20,-40 0,-45 -20,-40 C-40,-35 -60,-20" fill="#2C1810"/>
                    <!-- Additional spikes -->
                    <path d="M-30,-70 C-35,-90 -25,-85 -20,-75" fill="#2C1810"/>
                    <path d="M0,-80 C-5,-100 5,-95 10,-80" fill="#2C1810"/>
                    <path d="M30,-70 C25,-90 35,-85 40,-75" fill="#2C1810"/>
                    <!-- Eyes -->
                    <ellipse cx="-25" cy="-8" rx="15" ry="12" fill="white"/>
                    <ellipse cx="25" cy="-8" rx="15" ry="12" fill="white"/>
                    <circle cx="-25" cy="-8" r="8" fill="#2F4F4F"/>
                    <circle cx="25" cy="-8" r="8" fill="#2F4F4F"/>
                    <!-- Eyebrows -->
                    <path d="M-35,-20 L-15,-25" stroke="#2C1810" stroke-width="4"/>
                    <path d="M15,-25 L35,-20" stroke="#2C1810" stroke-width="4"/>
                    <!-- Smile -->
                    <path d="M-20,25 Q0,40 20,25" stroke="#333" stroke-width="3" fill="none"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#FF6B6B] mb-2">Super Saiyan</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"Power up! Your birthday energy level is OVER 9000! Have an amazing day! 💪⚡"</p>
              </div>
            </div>
          </div>

          <!-- Character 4: Studio Ghibli Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 0.8s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <ellipse cx="0" cy="0" rx="65" ry="70" fill="#FFEBD6"/>
                    <!-- Hair (brown, neat) -->
                    <path d="M-55,-25 C-70,-65 -30,-80 0,-75 C30,-80 70,-65 55,-25 C40,-35 20,-40 0,-40 C-20,-40 -40,-35 -55,-25" fill="#8B4513"/>
                    <!-- Eyes (gentle) -->
                    <ellipse cx="-20" cy="-5" rx="12" ry="15" fill="white"/>
                    <ellipse cx="20" cy="-5" rx="12" ry="15" fill="white"/>
                    <circle cx="-20" cy="-5" r="7" fill="#654321"/>
                    <circle cx="20" cy="-5" r="7" fill="#654321"/>
                    <!-- Rosy cheeks -->
                    <circle cx="-35" cy="10" r="6" fill="#FFB6C1" opacity="0.7"/>
                    <circle cx="35" cy="10" r="6" fill="#FFB6C1" opacity="0.7"/>
                    <!-- Gentle smile -->
                    <path d="M-10,25 Q0,32 10,25" stroke="#8B4513" stroke-width="2" fill="none"/>
                    <!-- Small flowers in hair -->
                    <circle cx="-30" cy="-40" r="4" fill="#FFB6C1"/>
                    <circle cx="25" cy="-45" r="3" fill="#98FB98"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#98FB98] mb-2">Forest Spirit</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"May your birthday bloom with wonder and magic, just like nature's finest gifts! 🌸🦋"</p>
              </div>
            </div>
          </div>

          <!-- Character 5: Attack on Titan Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 1.0s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <ellipse cx="0" cy="0" rx="70" ry="75" fill="#FFDAB9"/>
                    <!-- Hair (messy brown) -->
                    <path d="M-60,-30 C-75,-70 -45,-85 -15,-80 C5,-90 25,-80 45,-85 C75,-70 60,-30 35,-40 C15,-50 -15,-50 -35,-40 C-50,-35 -60,-30" fill="#8B4513"/>
                    <path d="M-20,-70 C-25,-85 -15,-80 -10,-65" fill="#8B4513"/>
                    <path d="M10,-75 C5,-90 15,-85 20,-70" fill="#8B4513"/>
                    <!-- Determined eyes -->
                    <ellipse cx="-22" cy="-8" rx="14" ry="10" fill="white"/>
                    <ellipse cx="22" cy="-8" rx="14" ry="10" fill="white"/>
                    <circle cx="-22" cy="-8" r="7" fill="#228B22"/>
                    <circle cx="22" cy="-8" r="7" fill="#228B22"/>
                    <!-- Serious eyebrows -->
                    <path d="M-32,-18 L-12,-22" stroke="#654321" stroke-width="3"/>
                    <path d="M12,-22 L32,-18" stroke="#654321" stroke-width="3"/>
                    <!-- Determined expression -->
                    <path d="M-8,25 L8,25" stroke="#654321" stroke-width="3"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#228B22] mb-2">Survey Corps</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"Dedicate your heart to an epic birthday! Another year of freedom and adventure awaits! 🗡️🕊️"</p>
              </div>
            </div>
          </div>

          <!-- Character 6: Demon Slayer Style -->
          <div class="anime-card rounded-2xl p-6 char-enter" style="animation-delay: 1.2s">
            <div class="text-center">
              <div class="w-32 h-32 mx-auto mb-4">
                <svg viewBox="0 0 200 200" class="w-full h-full">
                  <g transform="translate(100,100)">
                    <!-- Face -->
                    <ellipse cx="0" cy="0" rx="68" ry="72" fill="#FFEBD6"/>
                    <!-- Hair (dark red-brown) -->
                    <path d="M-58,-28 C-72,-68 -38,-82 -8,-78 C8,-85 28,-78 38,-82 C72,-68 58,-28 38,-38 C18,-48 -8,-48 -28,-38 C-48,-33 -58,-28" fill="#8B0000"/>
                    <!-- Scar on forehead -->
                    <path d="M-5,-35 L5,-25 M5,-35 L-5,-25" stroke="#B22222" stroke-width="2"/>
                    <!-- Kind eyes -->
                    <ellipse cx="-20" cy="-5" rx="14" ry="16" fill="white"/>
                    <ellipse cx="20" cy="-5" rx="14" ry="16" fill="white"/>
                    <circle cx="-20" cy="-5" r="8" fill="#8B0000"/>
                    <circle cx="20" cy="-5" r="8" fill="#8B0000"/>
                    <!-- Gentle smile -->
                    <path d="M-15,25 Q0,35 15,25" stroke="#8B0000" stroke-width="3" fill="none"/>
                    <!-- Earrings -->
                    <circle cx="-45" cy="5" r="4" fill="#FFD700"/>
                    <circle cx="45" cy="5" r="4" fill="#FFD700"/>
                  </g>
                </svg>
              </div>
              <h3 class="text-lg font-bold text-[#8B0000] mb-2">Demon Slayer</h3>
              <div class="speech-bubble">
                <p class="text-gray-800 font-medium">"Total Concentration! Birthday Breathing! May this year slice through all obstacles! ⚔️🌸"</p>
              </div>
            </div>
          </div>

        </div>

        <!-- Action Buttons -->
        <div class="text-center space-x-4">
          <button id="replayBtn" class="px-8 py-3 bg-gradient-to-r from-[#7C5CFF] to-[#FF6B6B] text-white font-semibold rounded-full shadow-lg hover:scale-105 transform transition">
            🎉 Celebrate Again!
          </button>
          <button id="closeOverlay" class="px-8 py-3 border-2 border-white/20 text-white font-semibold rounded-full hover:bg-white/10 transition">
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- FINAL BEAUTIFUL FRAME WITH PHOTOS AND MESSAGES -->
    <div id="finalOverlay" class="hidden">
      <div class="final-inner">
        <!-- Floating hearts decoration -->
        <div class="floating-heart" style="top: 10%; left: 15%;">💖</div>
        <div class="floating-heart" style="top: 20%; right: 20%; animation-delay: 1s;">💝</div>
        <div class="floating-heart" style="bottom: 30%; left: 10%; animation-delay: 2s;">💕</div>
        <div class="floating-heart" style="top: 40%; right: 10%; animation-delay: 0.5s;">💗</div>

        <div class="text-center mb-8">
          <h1 class="text-3xl lg:text-5xl font-bold text-white mb-4 bg-gradient-to-r from-[#FFB4B4] to-[#E6E6FA] bg-clip-text text-transparent">
            Special Memories & Wishes
          </h1>
          <p class="text-lg text-white/90 memory-text" style="animation-delay: 0.3s;">
            These moments capture the beautiful soul that you are ✨
          </p>
        </div>

        <!-- Photo Gallery with Messages -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
          
          <!-- Photo 1: Comforting Nature -->
          <div class="photo-frame polaroid rounded-2xl p-4 memory-text" style="animation-delay: 0.6s;">
            <div class="relative">
              <svg viewBox="0 0 300 200" class="w-full h-48 rounded-lg mb-4">
                <defs>
                  <linearGradient id="skyGrad" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0" stop-color="#87CEEB"/>
                    <stop offset="1" stop-color="#E0F6FF"/>
                  </linearGradient>
                </defs>
                <!-- Sky -->
                <rect width="300" height="200" fill="url(#skyGrad)"/>
                
                <!-- Mountains -->
                <polygon points="0,120 60,80 120,100 180,60 240,90 300,70 300,200 0,200" fill="#8FBC8F"/>
                <polygon points="50,130 100,90 150,110 200,80 250,100 300,85 300,200 0,200" fill="#9ACD32" opacity="0.8"/>
                
                <!-- Sun -->
                <circle cx="240" cy="50" r="25" fill="#FFD700"/>
                <g stroke="#FFD700" stroke-width="2">
                  <line x1="240" y1="15" x2="240" y2="5"/>
                  <line x1="240" y1="95" x2="240" y2="85"/>
                  <line x1="275" y1="50" x2="285" y2="50"/>
                  <line x1="205" y1="50" x2="195" y2="50"/>
                  <line x1="265" y1="25" x2="272" y2="18"/>
                  <line x1="215" y1="75" x2="208" y2="82"/>
                  <line x1="265" y1="75" x2="272" y2="82"/>
                  <line x1="215" y1="25" x2="208" y2="18"/>
                </g>
                
                <!-- Clouds -->
                <ellipse cx="80" cy="40" rx="25" ry="12" fill="white" opacity="0.9"/>
                <ellipse cx="75" cy="35" rx="20" ry="10" fill="white" opacity="0.9"/>
                <ellipse cx="85" cy="35" rx="18" ry="8" fill="white" opacity="0.9"/>
                
                <!-- Trees -->
                <ellipse cx="50" cy="140" rx="15" ry="25" fill="#228B22"/>
                <rect x="47" y="150" width="6" height="20" fill="#8B4513"/>
                <ellipse cx="150" cy="135" rx="18" ry="30" fill="#32CD32"/>
                <rect x="147" y="150" width="6" height="25" fill="#8B4513"/>
                
                <!-- Flowers -->
                <circle cx="30" cy="170" r="3" fill="#FFB6C1"/>
                <circle cx="45" cy="175" r="2" fill="#DDA0DD"/>
                <circle cx="35" cy="180" r="2" fill="#F0E68C"/>
              </svg>
              <div class="text-center">
                <h3 class="font-bold text-[#32CD32] text-lg mb-2">Your Peaceful Spirit</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  "You are very comforting, stay like that. Your presence brings peace to everyone around you, just like this serene landscape brings calm to the soul. 🌿"
                </p>
              </div>
            </div>
          </div>

          <!-- Photo 2: Warm Friendship -->
          <div class="photo-frame polaroid rounded-2xl p-4 memory-text" style="animation-delay: 0.9s;">
            <div class="relative">
              <svg viewBox="0 0 300 200" class="w-full h-48 rounded-lg mb-4">
                <!-- Cozy room background -->
                <rect width="300" height="200" fill="#F5DEB3"/>
                
                <!-- Window with view -->
                <rect x="50" y="30" width="80" height="60" fill="#87CEEB" stroke="#8B4513" stroke-width="3"/>
                <line x1="90" y1="30" x2="90" y2="90" stroke="#8B4513" stroke-width="2"/>
                <line x1="50" y1="60" x2="130" y2="60" stroke="#8B4513" stroke-width="2"/>
                
                <!-- Curtains -->
                <path d="M40,25 Q45,35 40,45 Q45,55 40,65 Q45,75 40,85 Q45,95 40,105 L45,105 L45,25 Z" fill="#DDA0DD"/>
                <path d="M135,25 Q140,35 135,45 Q140,55 135,65 Q140,75 135,85 Q140,95 135,105 L140,105 L140,25 Z" fill="#DDA0DD"/>
                
                <!-- Books on shelf -->
                <rect x="180" y="40" width="8" height="50" fill="#FF6B6B"/>
                <rect x="188" y="45" width="8" height="45" fill="#7C5CFF"/>
                <rect x="196" y="35" width="8" height="55" fill="#32CD32"/>
                <rect x="204" y="42" width="8" height="48" fill="#FFD700"/>
                
                <!-- Cozy armchair -->
                <ellipse cx="220" cy="130" rx="35" ry="20" fill="#8B4513"/>
                <ellipse cx="220" cy="110" rx="30" ry="25" fill="#CD853F"/>
                <rect x="205" y="100" width="30" height="40" fill="#CD853F"/>
                
                <!-- Tea cup -->
                <ellipse cx="160" cy="170" rx="12" ry="8" fill="white"/>
                <ellipse cx="160" cy="168" rx="10" ry="6" fill="#8B4513"/>
                <path d="M172,170 Q178,168 178,175 Q178,182 172,180" fill="none" stroke="white" stroke-width="2"/>
                
                <!-- Heart-shaped steam -->
                <path d="M155,160 C155,155 165,155 165,160 C165,155 175,155 175,160 C175,165 165,175 160,180 C155,175 145,165 145,160 C145,155 155,155 155,160" fill="#FFB6C1" opacity="0.6"/>
              </svg>
              <div class="text-center">
                <h3 class="font-bold text-[#8B4513] text-lg mb-2">Warmth of Friendship</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  "Your friendship is like a warm hug on a cold day. You create comfort zones wherever you go, making everyone feel at home in your presence. ☕💕"
                </p>
              </div>
            </div>
          </div>

          <!-- Photo 3: Bright Future -->
          <div class="photo-frame polaroid rounded-2xl p-4 memory-text" style="animation-delay: 1.2s;">
            <div class="relative">
              <svg viewBox="0 0 300 200" class="w-full h-48 rounded-lg mb-4">
                <defs>
                  <linearGradient id="nightSky" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0" stop-color="#191970"/>
                    <stop offset="1" stop-color="#000080"/>
                  </linearGradient>
                  <radialGradient id="moonGlow" cx="0.5" cy="0.5">
                    <stop offset="0" stop-color="#FFFACD" opacity="0.9"/>
                    <stop offset="1" stop-color="#F0E68C" opacity="0.3"/>
                  </radialGradient>
                </defs>
                
                <!-- Night sky -->
                <rect width="300" height="200" fill="url(#nightSky)"/>
                
                <!-- Moon -->
                <circle cx="220" cy="60" r="30" fill="url(#moonGlow)"/>
                <circle cx="220" cy="60" r="25" fill="#FFFACD"/>
                
                <!-- Stars -->
                <g fill="white" opacity="0.9">
                  <polygon points="50,30 52,36 58,36 53,40 55,46 50,42 45,46 47,40 42,36 48,36" transform="scale(0.8)"/>
                  <polygon points="280,80 282,86 288,86 283,90 285,96 280,92 275,96 277,90 272,86 278,86" transform="scale(0.6)"/>
                  <polygon points="100,50 102,56 108,56 103,60 105,66 100,62 95,66 97,60 92,56 98,56" transform="scale(0.5)"/>
                  <polygon points="160,25 162,31 168,31 163,35 165,41 160,37 155,41 157,35 152,31 158,31" transform="scale(0.7)"/>
                </g>
                
                <!-- City skyline -->
                <rect x="0" y="140" width="50" height="60" fill="#2F4F4F"/>
                <rect x="50" y="130" width="40" height="70" fill="#483D8B"/>
                <rect x="90" y="145" width="35" height="55" fill="#2F4F4F"/>
                <rect x="125" y="125" width="45" height="75" fill="#4B0082"/>
                <rect x="170" y="135" width="30" height="65" fill="#2F4F4F"/>
                <rect x="200" y="150" width="40" height="50" fill="#483D8B"/>
                <rect x="240" y="140" width="35" height="60" fill="#2F4F4F"/>
                <rect x="275" y="155" width="25" height="45" fill="#4B0082"/>
                
                <!-- Building windows (lights) -->
                <g fill="#FFD700" opacity="0.8">
                  <rect x="15" y="155" width="4" height="4"/>
                  <rect x="25" y="160" width="4" height="4"/>
                  <rect x="35" y="150" width="4" height="4"/>
                  <rect x="60" y="145" width="4" height="4"/>
                  <rect x="70" y="155" width="4" height="4"/>
                  <rect x="105" y="160" width="4" height="4"/>
                  <rect x="135" y="140" width="4" height="4"/>
                  <rect x="145" y="150" width="4" height="4"/>
                  <rect x="155" y="135" width="4" height="4"/>
                  <rect x="185" y="150" width="4" height="4"/>
                  <rect x="250" y="155" width="4" height="4"/>
                  <rect x="280" y="170" width="4" height="4"/>
                </g>
                
                <!-- Shooting star -->
                <path d="M80,70 L95,75" stroke="#FFD700" stroke-width="3" opacity="0.9"/>
                <path d="M80,70 L88,72" stroke="white" stroke-width="2" opacity="0.7"/>
                <circle cx="80" cy="70" r="2" fill="white"/>
              </svg>
              <div class="text-center">
                <h3 class="font-bold text-[#FFD700] text-lg mb-2">Dreams & Aspirations</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  "May your future shine as bright as the stars above. Your kind heart and gentle nature will light up every path you choose to walk. Keep dreaming! ⭐🌙"
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Special Message Section -->
        <div class="text-center bg-white/5 backdrop-blur-sm rounded-3xl p-8 mb-6 memory-text" style="animation-delay: 1.5s;">
          <h2 class="text-2xl font-bold text-[#FFB4B4] mb-4">What Makes You Special</h2>
          <div class="grid md:grid-cols-2 gap-6 text-white/90">
            <div class="space-y-3">
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">🤗</span>
                <span>You bring comfort to every space you enter</span>
              </p>
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">💝</span>
                <span>Your kindness touches hearts without trying</span>
              </p>
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">🌟</span>
                <span>You make ordinary moments feel magical</span>
              </p>
            </div>
            <div class="space-y-3">
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">🎋</span>
                <span>Your calm presence is a gift to this world</span>
              </p>
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">🌸</span>
                <span>You bloom with grace in every season of life</span>
              </p>
              <p class="flex items-center justify-center md:justify-start">
                <span class="text-2xl mr-3">💫</span>
                <span>Keep being the wonderful person you are</span>
              </p>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center space-x-4 memory-text" style="animation-delay: 1.8s;">
          <button id="replayFinalBtn" class="px-8 py-3 bg-gradient-to-r from-[#FFB4B4] to-[#E6E6FA] text-gray-800 font-semibold rounded-full shadow-lg hover:scale-105 transform transition">
            💖 View Again
          </button>
          <button id="closeFinalOverlay" class="px-8 py-3 border-2 border-white/20 text-white font-semibold rounded-full hover:bg-white/10 transition">
            Thank You
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Helper utilities
    const $ = sel => document.querySelector(sel);

    // Generate decorative stars and petals
    function makeDecor() {
      const decor = document.getElementById('decor');
      const w = window.innerWidth, h = window.innerHeight;
      // stars
      for (let i=0;i<60;i++){
        const s = document.createElement('div');
        s.className = 'star';
        const size = Math.random()*2 + 1;
        s.style.width = size + 'px'; s.style.height = size + 'px';
        s.style.left = Math.random()*100 + '%'; s.style.top = Math.random()*100 + '%';
        s.style.opacity = 0.6 + Math.random()*0.4;
        s.style.transform = 'translate(-50%,-50%)';
        decor.appendChild(s);
      }
      // petals
      for (let i=0;i<18;i++){
        const p = document.createElement('div');
        p.className = 'petal';
        p.style.left = Math.random()*100 + '%';
        p.style.animation = 'fall ' + (8 + Math.random()*6) + 's linear infinite';
        p.style.opacity = 0.9;
        p.innerHTML = `<svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2 C14.5 6 18 8 18 11 C18 14 14 16 12 18 C10 16 6 14 6 11 C6 8 9.5 6 12 2 Z" fill="#FFD1DC" opacity="0.95"/></svg>`;
        decor.appendChild(p);
        // randomize vertical start
        p.style.top = (-10 - Math.random()*40) + '%';
        p.style.left = Math.random()*100 + '%';
        p.style.transform = `rotate(${Math.random()*360}deg)`;
      }

      // create CSS keyframe for fall dynamically (so durations vary)
      const style = document.createElement('style');
      style.textContent = `@keyframes fall {0%{transform:translateY(-10vh) rotate(0deg);opacity:0}50%{opacity:1}100%{transform:translateY(110vh) rotate(360deg);opacity:0.9}}`;
      document.head.appendChild(style);
    }

    // preview update
    function updatePreview(){
      const name = $('#name').value || 'Jagan';
      const msg = $('#message').value || '';
      $('#previewArea').textContent = `Happy Birthday, ${name}!`;
      $('#previewSub').textContent = msg;
    }

    // TYPEWRITER
    function typeWriter(el, text, speed=40, cb){
      el.textContent = '';
      let i=0;
      function step(){
        if(i<=text.length-1){
          el.textContent += text[i++];
          setTimeout(step, speed);
        } else if (cb) cb();
      }
      step();
    }

    // CONFETTI
    class ConfettiParticle {
      constructor(w,h){
        this.x = Math.random()*w; this.y = -10 - Math.random()*h/3;
        this.size = 6 + Math.random()*8; this.rotation = Math.random()*360;
        this.vx = (Math.random()-0.5)*6; this.vy = 2+Math.random()*6;
        this.angVel = (Math.random()-0.5)*10;
        this.color = ['#FF6B6B','#FFD166','#7C5CFF','#6EE7B7','#FFB4B4'][Math.floor(Math.random()*5)];
      }
      update(gravity, w, h){
        this.x += this.vx; this.y += this.vy; this.vy += gravity;
        this.rotation += this.angVel;
        // out of screen: soft recycle
        if(this.y > h + 50) { this.y = -20; this.x = Math.random()*w }
      }
    }

    const confetti = (()=>{
      const canvas = document.getElementById('confetti-canvas');
      const ctx = canvas.getContext('2d');
      let particles = [];
      let raf;
      function resize(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight }
      window.addEventListener('resize', resize);
      resize();

      function startBurst(count=120){
        particles = [];
        for(let i=0;i<count;i++) particles.push(new ConfettiParticle(canvas.width, canvas.height));
        cancelAnimationFrame(raf); raf = requestAnimationFrame(loop);
        // stop after some seconds
        setTimeout(()=>{ cancelAnimationFrame(raf); ctx.clearRect(0,0,canvas.width,canvas.height) }, 8000);
      }
      function loop(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        for(const p of particles){
          p.update(0.06, canvas.width, canvas.height);
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rotation*Math.PI/180);
          ctx.fillStyle = p.color; ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6);
          ctx.restore();
        }
        raf = requestAnimationFrame(loop);
      }
      return {startBurst}
    })();

    // Enhanced melody with more anime-like tune
    function playMelody(){
      try{
        const AudioCtx = window.AudioContext || window.webkitAudioContext;
        const ctx = new AudioCtx();
        const now = ctx.currentTime;
        // Happy Birthday melody in anime style
        const notes = [
          {freq: 523.25, duration: 0.5}, // C5
          {freq: 523.25, duration: 0.3}, // C5
          {freq: 587.33, duration: 0.5}, // D5
          {freq: 523.25, duration: 0.5}, // C5
          {freq: 698.46, duration: 0.5}, // F5
          {freq: 659.25, duration: 1.0}, // E5
          {freq: 523.25, duration: 0.5}, // C5
          {freq: 523.25, duration: 0.3}, // C5
          {freq: 587.33, duration: 0.5}, // D5
          {freq: 523.25, duration: 0.5}, // C5
          {freq: 783.99, duration: 0.5}, // G5
          {freq: 698.46, duration: 1.0}, // F5
        ];
        let t = 0;
        for(let note of notes){
          const o = ctx.createOscillator();
          const g = ctx.createGain();
          o.type = 'sine'; o.frequency.value = note.freq;
          g.gain.value = 0.0001;
          o.connect(g); g.connect(ctx.destination);
          o.start(now + t);
          g.gain.setValueAtTime(0.0001, now+t);
          g.gain.exponentialRampToValueAtTime(0.15, now+t+0.02);
          g.gain.exponentialRampToValueAtTime(0.0001, now+t+note.duration-0.02);
          o.stop(now + t + note.duration);
          t += note.duration;
        }
      } catch(e){ console.warn('Audio not supported / blocked by browser', e) }
    }

    // show overlay with anime characters
    function showOverlay(name, message){
      $('#overlay').classList.remove('hidden');
      $('#bigTitle').textContent = `Happy Birthday, ${name}!`;
      $('#bigMessage').textContent = '';
      
      // Animate characters entering
      const cards = document.querySelectorAll('.char-enter');
      cards.forEach((card, i) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px) scale(0.9)';
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0) scale(1)';
        }, 200 + i * 200);
      });
      
      // Type the message after characters appear
      setTimeout(() => {
        typeWriter($('#bigMessage'), message || 'Hope your special day is filled with all your favorite anime moments and endless joy!', 50);
      }, 1500);
    }

    // show final beautiful frame
    function showFinalFrame(){
      $('#finalOverlay').classList.remove('hidden');
      
      // Stagger animation for memory text elements
      const memoryTexts = document.querySelectorAll('.memory-text');
      memoryTexts.forEach((text, i) => {
        text.style.opacity = '0';
        text.style.transform = 'translateY(20px)';
        setTimeout(() => {
          text.style.animation = 'fadeInUp 0.8s ease-out forwards';
        }, i * 300);
      });
      
      // Animate photo frames
      const photoFrames = document.querySelectorAll('.photo-frame');
      photoFrames.forEach((frame, i) => {
        setTimeout(() => {
          frame.style.transform = 'translateY(0) scale(1)';
        }, 600 + i * 200);
      });
    }

    // Setup event handlers
    document.addEventListener('DOMContentLoaded', ()=>{
      makeDecor(); updatePreview();
      $('#name').addEventListener('input', updatePreview);
      $('#message').addEventListener('input', updatePreview);

      $('#previewBtn').addEventListener('click', ()=>{
        showFinalFrame();
      });

      $('#sendBtn').addEventListener('click', ()=>{
        const name = $('#name').value || 'Jagan';
        const msg = $('#message').value || '';
        
        // Pupil animation
        document.querySelectorAll('.pupil').forEach((p,i)=>{ 
          p.animate([
            {transform:'translateY(0px)'}, 
            {transform:'translateY(-6px)'}, 
            {transform:'translateY(0px)'}
          ], {duration:800, iterations:1}) 
        });
        
        // Start effects
        confetti.startBurst(200);
        playMelody();
        showOverlay(name, msg);
      });

      $('#closeOverlay').addEventListener('click', ()=>{ 
        $('#overlay').classList.add('hidden'); 
      });
      
      $('#closeFinalOverlay').addEventListener('click', ()=>{ 
        $('#finalOverlay').classList.add('hidden'); 
      });
      
      $('#replayFinalBtn').addEventListener('click', ()=>{
        // Reset animations and replay
        const memoryTexts = document.querySelectorAll('.memory-text');
        memoryTexts.forEach((text, i) => {
          text.style.opacity = '0';
          text.style.transform = 'translateY(20px)';
          setTimeout(() => {
            text.style.animation = 'fadeInUp 0.8s ease-out forwards';
          }, i * 200);
        });
      });
      
      $('#replayBtn').addEventListener('click', ()=>{
        const name = $('#name').value || 'Jagan';
        const msg = $('#message').value || '';
        
        // Re-animate characters
        confetti.startBurst(180);
        playMelody();
        
        // Re-animate characters
        const cards = document.querySelectorAll('.char-enter');
        cards.forEach((card, i) => {
          card.style.opacity = '0';
          card.style.transform = 'translateY(20px) scale(0.95)';
          setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0) scale(1)';
          }, 100 + i * 150);
        });
        
        $('#bigMessage').textContent = '';
        setTimeout(() => {
          typeWriter($('#bigMessage'), msg || 'May this year bring you epic adventures and your favorite anime dreams come true!', 45);
        }, 1000);
      });

      // Add click-to-close overlay background
      $('#overlay').addEventListener('click', (e) => {
        if (e.target === $('#overlay')) {
          $('#overlay').classList.add('hidden');
        }
      });

      $('#finalOverlay').addEventListener('click', (e) => {
        if (e.target === $('#finalOverlay')) {
          $('#finalOverlay').classList.add('hidden');
        }
      });
    });
  </script>
</body>
</html>